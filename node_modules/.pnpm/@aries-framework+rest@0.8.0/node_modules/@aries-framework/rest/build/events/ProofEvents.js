"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.proofEvents = void 0;
const core_1 = require("@aries-framework/core");
const WebhookEvent_1 = require("./WebhookEvent");
const proofEvents = async (agent, config) => {
    agent.events.on(core_1.ProofEventTypes.ProofStateChanged, async ({ payload }) => {
        const record = payload.proofRecord;
        const body = record.toJSON();
        await (0, WebhookEvent_1.sendWebhookEvent)(config.webhookUrl + '/proofs', body, agent.config.logger);
    });
};
exports.proofEvents = proofEvents;
//# sourceMappingURL=ProofEvents.js.map